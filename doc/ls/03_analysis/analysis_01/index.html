<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>解析の流れと入出力ファイル - FrontISTR ver. 5.0</title>
        <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
         
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">FrontISTR ver. 5.0</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../index.html">ホーム</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">導入 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../01_install/install_00/index.html">はじめに</a>
                        </li>
                    
                        <li >
                            <a href="../../01_install/install_01/index.html">動作環境</a>
                        </li>
                    
                        <li >
                            <a href="../../01_install/install_02/index.html">アーカイブファイルの解凍・展開</a>
                        </li>
                    
                        <li >
                            <a href="../../01_install/install_03/index.html">インストール</a>
                        </li>
                    
                        <li >
                            <a href="../../01_install/install_04/index.html">付録</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">理論 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../02_theory/theory_00/index.html">はじめに</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_01/index.html">微小変形線形弾性静解析</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_02/index.html">非線形静解析手法</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_03/index.html">動的解析手法</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_04/index.html">熱伝導解析</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_05/index.html">固有値解析</a>
                        </li>
                    
                        <li >
                            <a href="../../02_theory/theory_06/index.html">周波数応答解析</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">解析 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../analysis_00/index.html">はじめに</a>
                        </li>
                    
                        <li class="active">
                            <a href="index.html">解析の流れと入出力ファイル</a>
                        </li>
                    
                        <li >
                            <a href="../analysis_02/index.html">要素ライブラリおよび材料データ</a>
                        </li>
                    
                        <li >
                            <a href="../analysis_03/index.html">全体制御データ</a>
                        </li>
                    
                        <li >
                            <a href="../analysis_04/index.html">単一領域メッシュデータ</a>
                        </li>
                    
                        <li >
                            <a href="../analysis_05/index.html">解析制御データ</a>
                        </li>
                    
                        <li >
                            <a href="../analysis_06/index.html">ユーザーサブルーチン</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">例題 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../04_tutorial/tutorial_00/index.html">はじめに</a>
                        </li>
                    
                        <li >
                            <a href="../../04_tutorial/tutorial_02/index.html">解析手順</a>
                        </li>
                    
                        <li >
                            <a href="">解析例</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">検証 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../05_example/example_00/index.html">はじめに</a>
                        </li>
                    
                        <li >
                            <a href="../../05_example/example_01/index.html">単純形状モデルによる検証</a>
                        </li>
                    
                        <li >
                            <a href="../../05_example/example_02/index.html">弾性静解析用実モデル例題</a>
                        </li>
                    
                        <li >
                            <a href="../../05_example/example_03/index.html">固有値解析用実モデル例題</a>
                        </li>
                    
                        <li >
                            <a href="../../05_example/example_04/index.html">熱伝導解析用実モデル例題</a>
                        </li>
                    
                        <li >
                            <a href="../../05_example/example_05/index.html">線形動的解析用実モデル例題</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">付録 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../06_release_note/00_release_note/index.html">リリースノート</a>
                        </li>
                    
                        <li >
                            <a href="../../07_cheat_sheet/00_cheat_sheet/index.html">チートシート (コマンド早見表)</a>
                        </li>
                    
                        <li >
                            <a href="../../08_quick_guide/00_FrontISTR_install_quickguide_ubuntu/index.html">FrontISTR ver. 4.6のインストール (ubuntu 16.04 LTS)</a>
                        </li>
                    
                        <li >
                            <a href="../../08_quick_guide/01_FrontISTR_install_quickguide_windows/index.html">FrontISTR ver. 4.6のインストール (Windows10 - MinGW-w64)</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                    <li >
                        <a rel="next" href="../analysis_00/index.html">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../analysis_02/index.html">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="row">
                    <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
      
    
        <li class="main active"><a href="#_1">解析の流れと入出力ファイル</a></li>
        
            <li><a href="#_2">解析の流れ</a></li>
        
            <li><a href="#_3">全体制御データ</a></li>
        
            <li><a href="#_4">メッシュデータ</a></li>
        
            <li><a href="#_5">解析制御データ</a></li>
        
            <li><a href="#_6">出力ファイル</a></li>
        
            <li><a href="#_7">実行方法</a></li>
        
            <li><a href="#_11">実行時の制約</a></li>
        
    
    
    </ul>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">解析の流れと入出力ファイル</h1>
<h2 id="_2">解析の流れ</h2>
<p>構造解析コードFrontISTRの入力および出力ファイルを図 3.1.1に示す。</p>
<p>(a) 入力ファイル</p>
<p>(b) 出力ファイル</p>
<p>図 3.1.1　FrontISTR入出力ファイル</p>
<p>FrontISTRは入力ファイルとして、全体制御データ、メッシュデータおよび解析制御データの3つのファイルが必要である。
モデル全体を単体のCPUで解析する場合には、単一領域メッシュファイルを使用する。
複数のCPUで並列実行する場合には、HEC-MWの領域分割ツールである hecmw_partプログラムにより、予め単一領域メッシュデータを領域分割し、その結果としての分散領域メッシュデータを用いる。
hecmw_partの詳細はHEC-MW領域分割マニュアルを参照すること。
全体制御データ、解析制御データおよび単一領域メッシュデータはテキストデータであり、ユーザーはこのマニュアルの説明にしたがって、適当なエディタを用いて作成、編集することが可能であるが、FrontISTRの付属のツールとして、市販のプリポストプロセッサである Femapのサポートするニュートラルファイル（*.neu）をFrontISTR入力データに変換する neu2fstr を用いて作成することもできる。
neu2fstrの詳細は neu2fstr マニュアルを参照すること。</p>
<p>FrontISTRの実行により、ログデータファイルと結果データファイルおよび可視化データを出力する。
これらの出力の有無、内容は、解析制御ファイル中の記述および解析内容に依存する。</p>
<p>可視化データは FrontISTRの実行後、作成された結果ファイルより、HEC-MW付属のツールであるhecmw_vis プログラムにより生成することも出来る。hecmw_vis の詳細はHEC-MW 可視化マニュアルを参照すること。</p>
<p>以下、上記入出力ファイルの概要について説明する。</p>
<h2 id="_3">全体制御データ</h2>
<p>このファイルは、メッシュデータと解析制御データの入力ファイルおよび結果出力ファイルを指定する。</p>
<p>全体制御データの詳細は第5章に記載する。</p>
<pre><code>#分散メッシュデータファイルのヘッダーの定義（領域分散モデルでは必須）
!MESH, NAME=fstrMSH,TYPE=HECMW-DIST
mesh.msh

#メッシュデータファイル名の定義（単一領域モデルでは必須）
!MESH, NAME=fstrMSH,TYPE=HECMW-ENTIRE
mesh.msh

#解析制御データファイル名の定義（必須）
!CONTROL,NAME=fstrCNT
mesh.cnt

#解析結果データファイル名の定義（任意）
!RESULT,NAME=fstrRES,IO=OUT
mesh.res

#可視化データファイル名の定義（任意）
!RESULT,NAME=vis_out,IO=OUT
mesh.vis
</code></pre>

<h2 id="_4">メッシュデータ</h2>
<p>このファイルは有限要素メッシュを定義し、その材料データとセクションデータを定義する。
また、解析制御データにて使用するグループデータを定義する。</p>
<p>メッシュデータの詳細は第6章に記載する。</p>
<pre><code>#メッシュタイトルの設定
!HEADER
TEST MODEL A361

#節点座標の定義
!NODE
0.0, 0.0, 0.0

#要素コネクティビティの定義
!ELEMENT, TYPE=361
1001, 1, 2, 3, 4, 5, 6, 7, 8

#セクションデータの定義
!SECTION, TYPE=SOLID, EGRP=ALL, MATERIAL=M1

#材料データの定義
!MATERIAL, NAME=M1, ITEM=1
!ITEM=1, SUBITEM=2
4000., 0.3

#節点グループの定義
!NGROUP, NGRP=FIX, GENERATE
1001, 1201, 50

#要素グループの定義
!EGROUP, EGRP=TOP, GENERATE
1001, 1201, 1

!END
</code></pre>

<h2 id="_5">解析制御データ</h2>
<p>このファイルは解析の種別、変位境界条件、集中荷重など解析制御データを定義する。
またソルバーの制御やビジュアライザーの制御データも、解析制御データに含まれる。</p>
<p>解析制御データの詳細は第7章に記載する。</p>
<pre><code>#解析の種別の指定
!SOLUTION, TYPE=STATIC

#変位境界条件の定義
!BOUNDARY
FIX, 1, 3, 0.0

#集中荷重条件の定義
!CLOAD
CL1, 1, -1.0

#分布荷重条件の定義
!DLOAD
ALL, BX, 1.0

#参照温度の定義
!REFTEMP
20.0

#熱荷重（温度）条件の定義
!TEMPERATURE
ALL, 100.0

#ソルバーの制御
!SOLVER, METHOD=CG, PRECOND=1, TIMELOG=YES, ITERLOG=YES
10000,2
1.0e-8,1.0,0.0

#結果データ出力
!WRITE,RESULT

#メモリ渡しビジュアライザ制御
!WRITE, VISUAL

#以下、ビジュアライザーの制御データ
!visual
!surface_num =1
!surface_style =1

!END
</code></pre>

<h2 id="_6">出力ファイル</h2>
<p>実行が終了すると、ログファイル(拡張子 .log)が出力される。
また、出力の指示により可視化用解析結果ファイル（拡張子.res）が出力される。
ログファイルは、以下に示す内容が出力される。</p>
<ul>
<li>変位、ひずみ、応力成分の最大・最小値</li>
<li>固有値</li>
<li>固有ベクトル値</li>
</ul>
<h2 id="_7">実行方法</h2>
<h3 id="frontistr">FrontISTR の準備</h3>
<p>FrontISTR の本体（Linux 版は fistr1、Windows 版はfistr1.exe）をパスの通ったディレクトリまたは実行時のカレントディレクトリに格納する。</p>
<h3 id="_8">入力ファイルの準備</h3>
<p>3種類の入力ファイル hecmw_ctrl.dat、解析制御データおよび（単一または分散領域）メッシュデータ用意し、hecmw_ctrl.dat
に解析制御データとメッシュデータのファイル名（パス名）を記述する。
必要ならば、解析結果データファイルおよび可視化データファイルの指定も行っておくこと。</p>
<h3 id="_9">単一領域の解析実行</h3>
<p>Linux のターミナルもしくは Windows
のコマンドプロンプトを立ち上げ、入力ファイルのあるディレクトリへカレントディレクトリを移動し、下記のように実行する
（ただし'$' はプロンプトを表す）</p>
<p>例） Linux の場合</p>
<pre><code>$ ./fistr1
</code></pre>

<p>例） Window の場合</p>
<pre><code>$ fistr１
</code></pre>

<h3 id="linux">Linux 上での並列実行</h3>
<p>Linux 版では予め MPIをインストールした環境で、並列実行用にコンパイルしなければならない。
コンパイル方法の詳細はインストールマニュアルを参照のこと。
実行は、MPIの実行環境の設定に依存する。以下に4領域での実行例を示す。</p>
<pre><code>$ mpirun -np 4 ./fistr1
</code></pre>

<h3 id="windows">Windows 上での並列実行</h3>
<p>Windows版では、MPICH2 のライブラリを下記 URLよりダウンロードし、インストールする必要がある。
並列実行の方法についてはMPICH2 のマニュアルを参照すること。</p>
<p>http://www-unix.mcs.anl.gov/mpi/mpich/</p>
<h3 id="_10">並列接触解析の実行</h3>
<p>FrontISTRの並列実行では、入力データとしてhecmw_ctrl.dat、解析制御データおよび分散領域メッシュデータを準備するが、
接触解析のみ分散領域メッシュデータではなく、単一領域メッシュデータを準備する。
それに伴い並列実行であってもhecmw_ctrl.dat中のメッシュデータファイル名の定義では単位領域モデルの指定を行う必要がある。</p>
<pre><code>!MESH, NAME=fstrMSH,TYPE=HECMW-ENTIRE
</code></pre>

<p>その他のFrontISTRの準備、入力ファイルの準備、LinuxおよびWindows上での並列実行手順は通常のFrontISTRの実行と同様である。</p>
<h2 id="_11">実行時の制約</h2>
<p>FrontISTR Ver.3.5において、正常実行が確認できている機能と要素タイプを表
3.7.1に示す。</p>
<p>表 3.7.1　解析機能別対応要素一覧</p>
<table>
<thead>
<tr>
<th align="center">要素番号</th>
<th align="center">線形静解析</th>
<th align="center">固有値解析</th>
<th align="center">熱伝導解析</th>
<th align="center">線形動解析</th>
<th align="center">周波数応答解析</th>
<th align="center">材料非線形<br>幾何学的非線形<br>静／動解析</th>
<th align="center">境界非線形<br>静／動解析</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">111</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">112</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">231</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">232</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">241</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">242</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">301</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">○</td>
</tr>
<tr>
<td align="center">341</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
</tr>
<tr>
<td align="center">342</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">351</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
</tr>
<tr>
<td align="center">352</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">361</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
</tr>
<tr>
<td align="center">362</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">541</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">542</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">611</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">641</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">731</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">732</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">741</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">743</td>
<td align="center">○</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">761</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">781</td>
<td align="center">○</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
</tbody>
</table>
<p>注）○：対応×：未対応</p>
<ul>
<li>
<p>線形動解析では要素番号731、741、743で並列計算は未対応であるが、それ以外の要素番号での並列計算は可能である。</p>
</li>
<li>
<p>接触解析についての並列計算は直接法のみ対応している。</p>
</li>
<li>
<p>要素番号611は熱応力、重力、圧力、遠心力を考慮した解析には対応していない。</p>
</li>
<li>
<p>要素番号641は圧力、遠心力を考慮した解析には対応していない。</p>
</li>
<li>
<p>梁要素をソリッド要素と混在して解析を行う場合、利用可能な梁要素は要素番号641である。</p>
</li>
<li>
<p>シェル要素をソリッド要素と混在して解析を行う場合、利用可能なシェル要素は要素番号761および781である。</p>
</li>
</ul></div>
                </div>
        </div>

    <hr>
    <footer class="container">
        
        <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
    </footer>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>
    </body>
</html>